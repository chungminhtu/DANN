<script type="text/javascript">
    var control = null; 
</script>

@Html.DevExpress().Panel(panelButton =>
        {
            panelButton.Name = "Panel";
            panelButton.FixedPosition = PanelFixedPosition.None;
            panelButton.SettingsCollapsing.ExpandEffect = PanelExpandEffect.Auto;

            panelButton.SetContent(() =>
            {
                Html.DevExpress().Button(
                    myButton =>
                    {
                        myButton.Name = "btnThemMoi";
                        myButton.Text = "Thêm";
                        myButton.ControlStyle.Border.BorderWidth = Unit.Pixel(0);
                        myButton.Images.Image.Url = "~/Content/icon/16/Add_16x16.png";
                        myButton.ClientSideEvents.Click = "function() { control.StartEditNewNode(); }";
                        //myButton.Enabled = !ReferenceEquals(Session["ID_BenhNhan"], "");
                        myButton.Style[HtmlTextWriterStyle.MarginLeft] = "5px";
                    }).GetHtml();
                Html.DevExpress().Button(
                        myButton =>
                        {
                            myButton.Name = "btnSua";
                            myButton.Text = "Sửa (Enter)";
                            myButton.ControlStyle.Border.BorderWidth = Unit.Pixel(0);
                            myButton.Images.Image.Url = "~/Content/icon/16/Edit_16x16.png";
                            myButton.ClientSideEvents.Click = "function( ) { control.StartEdit(control.GetFocusedNodeKey()); }";
                            //myButton.Enabled = !ReferenceEquals(Session["ID_BenhNhan"], "");
                            myButton.Style[HtmlTextWriterStyle.MarginLeft] = "5px";
                        }).GetHtml();
                Html.DevExpress().Button(
                        myButton =>
                        {
                            myButton.Name = "btnXoa";
                            myButton.Text = "Xóa (Delete)";
                            myButton.ControlStyle.Border.BorderWidth = Unit.Pixel(0);
                            myButton.Images.Image.Url = "~/Content/icon/16/Close_16x16.png";
                            myButton.ClientSideEvents.Click = "function( ) { if(confirm('Bạn có chắc chắn xóa dữ liệu này không?')) control.DeleteNode(control.GetFocusedNodeKey()); }";
                            myButton.Enabled = !ReferenceEquals(Session["ID_BenhNhan"], "");
                            myButton.Style[HtmlTextWriterStyle.MarginLeft] = "5px";
                        }).GetHtml();
                Html.DevExpress().Button(
                        myButton =>
                        {
                            myButton.Name = "btnLuu";
                            myButton.Text = "Lưu (Enter)";
                            myButton.ControlStyle.Border.BorderWidth = Unit.Pixel(0);
                            myButton.Images.Image.Url = "~/Content/icon/16/SaveAll_16x16.png";
                            myButton.ClientSideEvents.Click = "function( ) { control.UpdateEdit(); }";
                            myButton.Enabled = !ReferenceEquals(Session["ID_BenhNhan"], "");
                            myButton.Style[HtmlTextWriterStyle.MarginLeft] = "5px";
                        }).GetHtml();
                Html.DevExpress().Button(
                        myButton =>
                        {
                            myButton.Name = "btnHuy";
                            myButton.Text = "Hủy (ESC)";
                            myButton.ControlStyle.Border.BorderWidth = Unit.Pixel(0);
                            myButton.Images.Image.Url = "~/Content/icon/16/Reset2_16x16.png";
                            myButton.ClientSideEvents.Click = "function( ) { control.CancelEdit();  }";
                            myButton.Enabled = !ReferenceEquals(Session["ID_BenhNhan"], "");
                            myButton.Style[HtmlTextWriterStyle.MarginLeft] = "5px";
                        }).GetHtml();
                Html.DevExpress().Button(
                        myButton =>
                        {
                            myButton.Name = "btnRefresh";
                            myButton.Text = "Xem thay đổi (F5)";
                            myButton.Images.Image.Url = "~/Content/icon/16/DocumentMap_16x16.png";
                            myButton.ClientSideEvents.Click = "function( ) { location.reload();  }";
                            myButton.ControlStyle.Border.BorderWidth = Unit.Pixel(0);
                            myButton.Style[HtmlTextWriterStyle.MarginLeft] = "5px";
                            myButton.Enabled = !ReferenceEquals(Session["ID_BenhNhan"], "");
                        }).GetHtml();
            });
        }).GetHtml()
